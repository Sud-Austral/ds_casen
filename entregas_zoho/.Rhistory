rrrr <- dir(pattern = ".xlsx")
rrrr
db <- 'trabajo-con-casen'  #provide the name of your db
host_db <- 'post-to-r.postgres.database.azure.com' #i.e. # i.e. 'ec2-54-83-201-96.compute-1.amazonaws.com'
db_port <- '5432'  # or any other port specified by the DBA
db_user <- 'yomismo@post-to-r'
db_password <- '123456Fg*'
con <- dbConnect(RPostgres::Postgres(), dbname = db, host=host_db, port=db_port, user=db_user, password=db_password)
suppressWarnings(library(RODBC))
library(ggplot2)
library(ggpubr)
library(markdown)
library(shiny)
library(shinythemes)
library(tidyverse)
library(magrittr)
library(lubridate)
library(plotly)
library(xts)
library(dygraphs)
library(kableExtra)
library(knitr)
library("readxl")
library(rsconnect)
library(dplyr)
library(summarytools)
library(epiDisplay)
#library(leaflet)
library(haven)
library(epiDisplay)
library("readxl")
library(expss)
library(hrbrthemes)
library(viridis)
library(viridisLite)
library(DescTools)
library(roperators)
library(shinycssloaders)
library(writexl)
library(labelled)
library(tidyverse)
library(haven)
library(readr)
library(sjmisc)
library(WriteXLS)
library(ineq)
library(readstata13)
library(reldist)
library(RPostgreSQL)
library(devtools)
library(remotes)
library(DBI)
db <- 'trabajo-con-casen'  #provide the name of your db
host_db <- 'post-to-r.postgres.database.azure.com' #i.e. # i.e. 'ec2-54-83-201-96.compute-1.amazonaws.com'
db_port <- '5432'  # or any other port specified by the DBA
db_user <- 'yomismo@post-to-r'
db_password <- '123456Fg*'
con <- dbConnect(RPostgres::Postgres(), dbname = db, host=host_db, port=db_port, user=db_user, password=db_password)
library('RPostgreSQL')
# tn <- 'links'
# dbWriteTable(con,'tabla_discapacidad',receptaculo, row.names=FALSE)
db <- 'trabajo-con-casen'  #provide the name of your db
host_db <- 'post-to-r.postgres.database.azure.com' #i.e. # i.e. 'ec2-54-83-201-96.compute-1.amazonaws.com'
db_port <- '5432'  # or any other port specified by the DBA
db_user <- 'yomismo@post-to-r'
db_password <- '123456Fg*'
con <- dbConnect(RPostgres::Postgres(), dbname = db, host=host_db, port=db_port, user=db_user, password=db_password)
library('RPostgreSQL')
# tn <- 'links'
# dbWriteTable(con,'tabla_discapacidad',receptaculo, row.names=FALSE)
write_xlsx(receptaculo,"tablas_grandes/s_edad_al_tener_hijo.xlsx")
aaaa <- read_xlsx("entrega_1_lugar_consulta_mental.xlsx")
dbWriteTable(con,'entrega_1_lugar_consulta_mental',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_1_no_practica_mamografia.xlsx")
dbWriteTable(con,'entrega_1_no_practica_mamografia',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_1_practica_mamografia.xlsx")
dbWriteTable(con,'entrega_1_practica_mamografia',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_2_alimento_free_h.xlsx")
dbWriteTable(con,'entrega_2_alimento_free_h',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_2_cant_hijos.xlsx")
dbWriteTable(con,'entrega_2_cant_hijos',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_2_edad_al_tener_hijo.xlsx")
dbWriteTable(con,'entrega_2_edad_al_tener_hijo',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_2_embarazada_o_amamantando.xlsx")
dbWriteTable(con,'entrega_2_embarazada_o_amamantando',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_2_no_practica_papanicolau.xlsx")
dbWriteTable(con,'entrega_2_no_practica_papanicolau',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_2_practica_papanicolau.xlsx")
dbWriteTable(con,'entrega_2_practica_papanicolau',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_3_consulta_medica.xlsx")
dbWriteTable(con,'entrega_3_consulta_medica',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_3_cuantas_consulta_medica.xlsx")
dbWriteTable(con,'entrega_3_cuantas_consulta_medica',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_3_donde_consulta_medicina_gen.xlsx")
dbWriteTable(con,'entrega_3_donde_consulta_medicina_gen',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_3_enfermedad_accidente.xlsx")
dbWriteTable(con,'entrega_3_enfermedad_accidente',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_3_motivo_no_consulta_medica.xlsx")
dbWriteTable(con,'entrega_3_motivo_no_consulta_medica',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_4_decil.xlsx")
dbWriteTable(con,'entrega_4_decil',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_4_decil_nivel_educ_padre.xlsx")
dbWriteTable(con,'entrega_4_decil_nivel_educ_padre',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_4_nivel_educ_madre.xlsx")
dbWriteTable(con,'entrega_4_nivel_educ_madre',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_4_nivel_educ_padre.xlsx")
dbWriteTable(con,'entrega_4_nivel_educ_padre',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_4_quintil.xlsx")
dbWriteTable(con,'entrega_4_quintil',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
aaaa <- read_xlsx("entrega_5_variables_base.xlsx")
dbWriteTable(con,'entrega_5_variables_base',aaaa, row.names=FALSE)
#write_xlsx(receptaculo,"tablas_grandes/s_cant_hijos.xlsx")
knitr::opts_chunk$set(echo = TRUE)
url <- "https://groceries.asda.com/search/yoghurt"
library(tidyverse)
library(rvest)
url <- "https://groceries.asda.com/search/yoghurt"
url <- "https://www.trustpilot.com/review/udemy.com"
html_data <- read_html(url)
reviews <- html_data %>% html_nodes(".review")
url <- "https://www.trustpilot.com/review/udemy.com"
html_data <- read_html(url)
reviews <- html_data %>% html_nodes(".review")
review <- reviews[[1]]
url <- "https://www.trustpilot.com/review/udemy.com"
html_data <- read_html(url)
reviews <- html_data %>% html_nodes(".review")
review <- reviews[[1]]
reviwe %>% html_attr("id")
url <- "https://www.trustpilot.com/review/udemy.com"
html_data <- read_html(url)
reviews <- html_data %>% html_nodes(".review")
review <- reviews[[1]]
review %>% html_attr("id")
url <- "https://www.trustpilot.com/review/udemy.com"
html_data <- read_html(url)
reviews <- html_data %>% html_nodes(".review")
review <- reviews[[1]]
review %>% html_attr("id")
review %>% html_node(".review-content__title") %>% html_text() %>% str_squish()
knitr::opts_chunk$set(echo = TRUE)
cp <- read.csv("../data/tema3/college-perf.csv")
cp$Perf <- ordered(cp$Perf,
levels = c("Low", "Medium", "High"))
cp$Pred <- ordered(cp$Pred,
levels = c("Low", "Medium", "High"))
table <- table(cp$Perf, cp$Pred,
dnn =  c("Actual", "Predecido"))
table
prop.table(table)
round(prop.table(table, 1)*100, 2)
round(prop.table(table, 2)*100, 2)
barplot(table, legend = TRUE,
xlab = "Nota predecida por el modelo")
mosaicplot(table, main = "Eficiencia del modelo")
summary(table)
cp <- read.csv("../data/tema3/college-perf.csv")
cp
cp$Perf <- ordered(cp$Perf, levels = c("Low", "Medium", "High"))
cp$Pred <- ordered(cp$Pred, levels = c("Low", "Medium", "High"))
table <- table(cp$Perf, cp$Pred, dnn =  c("Actual", "Predecido"))
table
prop.table(table)
round(prop.table(table, 1)*100, 2)
round(prop.table(table, 2)*100, 2)
barplot(table, legend = TRUE,
xlab = "Nota predecida por el modelo")
mosaicplot(table, main = "Eficiencia del modelo")
summary(table)
knitr::opts_chunk$set(echo = TRUE)
usarrests <- read.csv("../data/tema3/USArrests.csv", stringsAsFactors = F)
rownames(usarrests) <- usarrests$X
usarrests$X <- NULL
head(usarrests)
apply(usarrests, 2, var)
acp <- prcomp(usarrests,
center = TRUE, scale = TRUE)
print(acp)
plot(acp, type = "l")
summary(acp)
biplot(acp, scale = 0)
pc1 <- apply(acp$rotation[,1]*usarrests, 1, sum)
pc2 <- apply(acp$rotation[,2]*usarrests, 1, sum)
usarrests$pc1 <- pc1
usarrests$pc2 <- pc2
usarrests[,1:4] <- NULL
runApp('C:/Users/usuario/Desktop/ds/ds_casen/casen_rojo.R')
runApp('C:/Users/usuario/Desktop/ds/ds_casen/casen_rojo.R')
runApp('C:/Users/usuario/Desktop/shiny_casen_publicacion/shiny_casen/casen_rojo.R')
runApp('C:/Users/usuario/Desktop/castro_shiny/shiny_casen/casen_rojo.R')
runApp('C:/Users/usuario/Desktop/castro_shiny/shiny_casen/casen_rojo.R')
runApp('C:/Users/usuario/Desktop/castro_shiny/shiny_casen/casen_rojo.R')
